{% extends 'base.html.twig' %}

{% block title %}Log in{% endblock %}

{% block body %}
    <main class="container">
        <section class="panel" style="max-width: 520px; margin: 3rem auto;">
            <h1>Sign in</h1>

            <form method="post">
                {% if error %}
                    <div class="flash flash--danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                {% endif %}

                {% if app.user %}
                    <div class="muted" style="margin-bottom: 0.75rem;">
                        Logged in as {{ app.user.userIdentifier }}, <a href="{{ logout_path() }}">logout</a>.
                    </div>
                {% endif %}

                <div style="margin-bottom: 0.75rem;">
                    <label for="username">Username</label>
                    <input type="text"
                           value="{{ last_username }}"
                           name="_username"
                           id="username"
                           autocomplete="username"
                           required
                           autofocus>
                </div>

                <div style="margin-bottom: 0.75rem;">
                    <label for="password">Password</label>
                    <input type="password" name="_password" id="password" autocomplete="current-password" required>
                </div>

                <input type="hidden"
                       name="_csrf_token"
                       data-controller="csrf-protection"
                       value="{{ csrf_token('authenticate') }}">

                <button class="btn btn--primary" type="submit">Sign in</button>
            </form>
        </section>
    </main>
{% endblock %}
